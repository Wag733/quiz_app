{% extends 'students/base.html' %}

{% block content %}
<div class="container">
    <h1 class="display-4">Quiz Ranking: {{ quiz.title }}</h1>

    <p><strong>Your Rank:</strong> {{ rank }}</p>
    <p><strong>Highest Score:</strong> {{ max_score }}</p>
    <p><strong>Average Score:</strong> {{ avg_score }}</p>

    <hr>

    <h3>Student Scores and Attempts</h3>
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Student</th>
                <th>Score</th>
                <th>Attempts</th>
            </tr>
        </thead>
        <tbody>
            {% for result in results %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ result.student.user.username }}</td>
                <td>{{ result.score }}</td>
                <td>{{ result.attempt_number }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{% url 'available_quizzes' %}">Back to Available Quizzes</a>
</div>
{% endblock %}
